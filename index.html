<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ConsT27's Blog</title><meta name="keywords" content="信息安全 红队 web 渗透 博客"><meta name="author" content="ConsT27"><meta name="copyright" content="ConsT27"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Just A Simple Blog Of ConsT27">
<meta property="og:type" content="website">
<meta property="og:title" content="ConsT27&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="ConsT27&#39;s Blog">
<meta property="og:description" content="Just A Simple Blog Of ConsT27">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/null">
<meta property="article:author" content="ConsT27">
<meta property="article:tag" content="信息安全 红队 web 渗透 博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-02-19 16:38:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="ConsT27's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a></div></div></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ConsT27's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ConsT27's Blog</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/" title="Weblogic漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Weblogic漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/" title="Weblogic漏洞">Weblogic漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.766Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">弱口令12345678910111213141516171819202122232425262728User ID	systemPassword	passwordLevel	AdministratorUser ID	weblogicPassword	weblogicLevel	AdministratorUser ID	weblogicPassword	weblogicUser ID	adminPassword	securityUser ID	joePassword	passwordUser ID	maryPassword	passwordUser ID	systemPassword	securityUser ID	wlcsystemPassword	wlcsystemUser ID	wlpisystemPassword	wlpisystem
任意文件读取基础上的后台密码破解假设我们能前台任意文件读取,但是后台的账户密码是加密的.如何破解weblogic新版本用的是AES加密，老版本用的是3DES加密都是对称加密，有密钥就可解

假设前台可以任意文件读取，那么我们只要用到用户的密文和加密 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/" title="Nginx漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/" title="Nginx漏洞">Nginx漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.764Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">‘/’字符解析漏洞（和iis7/7.5漏洞利用方法一致）url/xxx.gif/xx.php会被解析为php文件
前提条件:cgi.fix_pathinfo=1
目录遍历小洞
前提条件: nginx-conf 把这个选项改为on即可
目录穿越
前提概要:要用到别名alias作用: 当设置别名时，location后面的路径没有用/闭合时，就会引起访问 url/xx../时返回的目录是当前文件夹的上层目录可见返回的目录是上层目录
CRLF注入前提条件与产生原因:1.随着业务的发展，有些网站会把http://xxx 重定向为https://xxx或http://x.com重定向为http://www.x.com,那么这种重定向的原理在nginx上的实现方式是在location块里加入return 302 http://$host:81$uri;之类的语句，这里的$host,$url都是变量。$host一般为请求头的host头部,$url一般为请求行里的路径部分 如 GET /url HTTP/1.1此处的/url部分. 2.http头部里，0d（cr）和0a（lf）字符是用来分割请求头部区域 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/" title="iis漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="iis漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/" title="iis漏洞">iis漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.762Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">关于/的php解析漏洞(iis7/7.5解析漏洞)适用版本 iis7/7.5前提条件:1.php.ini里的cgi.fix_pathinfo设置为1,且结合方式是fast-cgi

2.开启Fast-CGI运行模式作用: 在访问某个文件时，在路径后加 /.php(这里的指任意字符)，即可让服务器把把该文件当作php文件解析并返回如图我在一个txt文件中写入php代码，让后访问它时在路径最后加了/a.php，它就被解析为php文件了

PUT任意文件上传漏洞1.适用版本 iis6.02.前提条件:服务器开启了webdav服务并且设置了写入权限

同时找到访问网站的用户是哪个并给他读取和写入权

3.概述：用PUT方法上传文件,并尝试getshell

上传,并且确实上传成功，但是大多数情况下无法上传php等脚本文件
这个时候我们就会想到用move方法来将txt文件转化为php文件,但直接move往往是不行的，要用到iis6.0解析漏洞，把它写成shell.php;.txt就可以了getshell了
iis6畸形解析漏洞iis6.0环境下会把文件畸形解析: 1.在一个文件后面加;.任意后缀 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/" title="ApacheHttpd漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ApacheHttpd漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/" title="ApacheHttpd漏洞">ApacheHttpd漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.761Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">apache文件多后缀名解析漏洞与其说这是一个漏洞，不如说这是一个特性，很多程序员不知道这种特性，所以会写出有问题的代码。特性：多后缀名(全版本都有这个特性）apache在解析一个文件的后缀名时，是从右往左解析后缀名的，如果右边的后缀名不认识，就会继续向左识别，直到识别到一个认识的后缀名，但是万一都不认识呢?都不认识的话默认情况下是plain/text处理。那么apache是怎么知道哪个后缀名它是认识的呢?答案是认识的后缀名们都被记录到一个叫mime.types的文件中了。这个文件呢,Windows放在conf文件夹里，linux放在/etc/mime.types（不一定在这里，需要自己找找）,打开后是这样

定义了不同的后缀名应该向浏览器返回什么样的mime格式。这里要说的是有些情况下的mime.types没有提供对php的解析方法，对php的解析规则放在另一个文件，Windows下在/conf/extra/httpd-php.conf。Linux也有这个文件在/etc/apache2/mods-enabled/php7.2.conf（或者和Windows的路径一样),打开后是这样的 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/redis%E6%9C%AA%E6%8E%88%E6%9D%83/" title="redis未授权">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redis未授权"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/redis%E6%9C%AA%E6%8E%88%E6%9D%83/" title="redis未授权">redis未授权</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:49.088Z" title="发表于 2021-02-19 16:37:49">2021-02-19</time></span></div><div class="content">参考 https://www.redteaming.top/2019/07/15/%E6%B5%85%E6%9E%90Redis%E4%B8%ADSSRF%E7%9A%84%E5%88%A9%E7%94%A8/
Redis默认端口6379如果存在未授权问题，那么任何人都可以往这台Redis服务器上传输命令
一般Redis攻击有写shell（最常用），写密钥，写crontab反弹shell, info获得敏感信息,其中写密钥和写crontab不是那么的好用
在讲攻击之前，要讲一下RESP协议
RESP协议Redis服务器与客户端通过RESP协议的通信。resp协议从redis1.2引入。这个协议把服务器与客户端之间的数据以一种序列化的形式处理并传输
在RESP中，某些数据的类型取决于第一个字节：对于Simple Strings，回复的第一个字节是+对于error，回复的第一个字节是-对于Integer，回复的第一个字节是:对于Bulk Strings，回复的第一个字节是$，发送给服务器的命令就是放在数组中的BulkStrings类型对于array，回复的第一个字节是*此外，RESP能够使 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Padding%20oracle%20Attack%E4%B8%8ECBC%E7%BF%BB%E8%BD%AC%E5%AD%97%E8%8A%82%E6%94%BB%E5%87%BB/" title="Padding oracle Attack与CBC翻转字节攻击.">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Padding oracle Attack与CBC翻转字节攻击."></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Padding%20oracle%20Attack%E4%B8%8ECBC%E7%BF%BB%E8%BD%AC%E5%AD%97%E8%8A%82%E6%94%BB%E5%87%BB/" title="Padding oracle Attack与CBC翻转字节攻击.">Padding oracle Attack与CBC翻转字节攻击.</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:49.087Z" title="发表于 2021-02-19 16:37:49">2021-02-19</time></span></div><div class="content">参考: https://www.freebuf.com/articles/database/151167.htmlhttps://www.jianshu.com/p/7f171477a603
因为是涉及密码学的东西，所以看的我头大，记录一下吧。
异或（XOR）何为异或?异或是一种运算方法，简要概括就是同假异真
123456789101112true xor true &#x3D; false; true xor false &#x3D; true;在二进制中:011 xor 110 &#x3D; 101; 二进制数每位数分别进行xor运算上面算式的运算步骤是这样的 0 xor 1 &#x3D; 1;1 xor 1 &#x3D; 0;1 xor 0&#x3D;1然后把运算结果写在一起就是101了在更高的进制中:以十进制为例: 65 xor 42 &#x3D; 107; 原理就是把十进制数字先变为二进制数进行异或，再将异或得到的二进制数结果变为十进制数在字符中:对字符进行异或运算其实就是对字符的ascii码进行异或计算，计算得到的结果视作新的一个ascii码再将其转换为字符。
xor还有一 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/md5%E5%BC%BA%E7%AD%89%E4%BA%8E%E7%BB%95%E8%BF%87%E5%AD%97%E7%AC%A6%E4%B8%B2/" title="md5强等于绕过字符串">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="md5强等于绕过字符串"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/md5%E5%BC%BA%E7%AD%89%E4%BA%8E%E7%BB%95%E8%BF%87%E5%AD%97%E7%AC%A6%E4%B8%B2/" title="md5强等于绕过字符串">md5强等于绕过字符串</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:49.085Z" title="发表于 2021-02-19 16:37:49">2021-02-19</time></span></div><div class="content">%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%00%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%55%5d%83%60%fb%5f%07%fe%a2
和%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%02%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%d5%5d%83%60%fb%5f%07%fe%a2
用这个时，请求头要有Content-Type: application/x-www-form-urlencoded
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Hash%E9%95%BF%E5%BA%A6%E6%89%A9%E5%B1%95%E6%94%BB%E5%87%BB/" title="Hash长度扩展攻击">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hash长度扩展攻击"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Hash%E9%95%BF%E5%BA%A6%E6%89%A9%E5%B1%95%E6%94%BB%E5%87%BB/" title="Hash长度扩展攻击">Hash长度扩展攻击</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:49.084Z" title="发表于 2021-02-19 16:37:49">2021-02-19</time></span></div><div class="content">1 byte=8 bit
hash算法Merkle–Damgård构造易受hash长度扩展攻击的算法有 SHA系列与MD系列，因为他们都是基于Merkle–Damgård构造。具体它是怎么结构，从下文的MD5算法可以感受到
MD5算法分组MD5算法里，会先设置好一个一个的分组，每个组的大小是512bit或者说是64bytes。
每个组都包含2个部分:1.数据区，占56bytes来记录需要被加密的字符串数据，当数据无法填满数据区时，会进行”补位”操作(请看下文解释)2.长度描述符区,用于记录“非补位”数据的大小,占8个byte，其值为该组数据区种非补位数据的bit大小的16进制值。比如非补位数据是admin,其占5个byte，40个bit，40的十六进制是28，所以其值会是28。然后这个值会以一种叫做小端存储的方式记录到长度描述符区。（非补位数据指该组的非填充的数据，即真正需要被加密的字符串）
补位很简单，若某个组的数据长度小于56byte，该组的数据区不会被占满，那么就会自动补位来使数据区被填满。
其规则是在数据后先添加一个80字节，然后再用00字节填充完整个数据区。
分组与补位小结再 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/Windows%E6%8F%90%E6%9D%83/" title="Windows提权方法汇总">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows提权方法汇总"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Windows%E6%8F%90%E6%9D%83/" title="Windows提权方法汇总">Windows提权方法汇总</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:46.568Z" title="发表于 2021-02-19 16:37:46">2021-02-19</time></span></div><div class="content">无引号服务路径 （ Trusted Service Paths ）先说实用度，比较被动，而且比较看脸。
Windows下服务的权限通常是SYSTEM。如果我们能够替换服务的启动程序为我们的恶意程序（如反弹shell），即相当于获得了SYSTEM权限，达到了提权的目的。无引号服务路径有可能会导致这种情况的发生。所谓无引号服务路径，就是服务启动程序的路径中包含了空格且未被引号包含起来。比如这样
1C:\Program Files\floder1\service.exe
因为空格的存在，Windows在启动服务找寻服务启动项时，它会按照以下顺序进行启动项寻找
123C:\Program.exeC:\Program Files\Some.exeC:\Program Files\Some Folder\Service.exe
这就给了我们有机可乘的机会：如果我们在服务的上层目录有写入或完全控制权限，我们完全可以将一个可执行文件放在Windows搜寻服务启动项的更靠前顺序上。

我们用以下命令来搜索哪些服务路径没有包含引号
1wmic service get name,displayname,pa ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Linux%20sudo%E6%8F%90%E6%9D%83%E4%B8%8Esuid%E6%8F%90%E6%9D%83/" title="Linux sudo与suid提权">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux sudo与suid提权"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Linux%20sudo%E6%8F%90%E6%9D%83%E4%B8%8Esuid%E6%8F%90%E6%9D%83/" title="Linux sudo与suid提权">Linux sudo与suid提权</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:46.566Z" title="发表于 2021-02-19 16:37:46">2021-02-19</time></span></div><div class="content">何为suid
可见在权限位置有一个s权限。那么这个s的作用是什么呢？答案是当其他用户执行该文件时，该文件会以root的身份执行。这里就涉及到了Effective UID和Real UID以及Saved UIDEffective UID: 程序实际操作时生效的UIDReal UID: 执行该程序的用户的实际UIDSaved UID: 在高权限用户降权后，保留的其原本UID (不展开说)
所以增加了一个s权限，该程序在实际运行时Effective UID就会变为0，即root的UID
sudo就是能把一个命令视作root来执行,用sudo-l查看可以被sudo的命令
SUID与sudo提权遍历目录中的suid文件1find &#x2F; -perm -u&#x3D;s 2&gt;&#x2F;dev&#x2F;null
执行该命令，会得到所有suid文件

用sudo -l 查看哪些命令能被sudo可利用于提权的命令1.nmap1nmap --interactive
使用nmap的udp或tcp syn扫描时，需要用到root权限，所以有些管理员图方便会直接给namp上s权限，而nmap 5 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">ConsT27</div><div class="author-info__description">Just A Simple Blog Of ConsT27</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/" title="Weblogic漏洞"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Weblogic漏洞"/></a><div class="content"><a class="title" href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/" title="Weblogic漏洞">Weblogic漏洞</a><time datetime="2021-02-19T08:37:51.766Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/" title="Nginx漏洞"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx漏洞"/></a><div class="content"><a class="title" href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/" title="Nginx漏洞">Nginx漏洞</a><time datetime="2021-02-19T08:37:51.764Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/" title="iis漏洞"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="iis漏洞"/></a><div class="content"><a class="title" href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/" title="iis漏洞">iis漏洞</a><time datetime="2021-02-19T08:37:51.762Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/" title="ApacheHttpd漏洞"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ApacheHttpd漏洞"/></a><div class="content"><a class="title" href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/" title="ApacheHttpd漏洞">ApacheHttpd漏洞</a><time datetime="2021-02-19T08:37:51.761Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/redis%E6%9C%AA%E6%8E%88%E6%9D%83/" title="redis未授权"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redis未授权"/></a><div class="content"><a class="title" href="/2021/02/19/redis%E6%9C%AA%E6%8E%88%E6%9D%83/" title="redis未授权">redis未授权</a><time datetime="2021-02-19T08:37:49.088Z" title="发表于 2021-02-19 16:37:49">2021-02-19</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">22</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">22</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-02-19T08:38:05.279Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By ConsT27</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>