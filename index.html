<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ConsT27's Blog</title><meta name="keywords" content="信息安全 红队 web 渗透 博客"><meta name="author" content="ConsT27"><meta name="copyright" content="ConsT27"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Just A Simple Blog Of ConsT27">
<meta property="og:type" content="website">
<meta property="og:title" content="ConsT27&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="ConsT27&#39;s Blog">
<meta property="og:description" content="Just A Simple Blog Of ConsT27">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/null">
<meta property="article:author" content="ConsT27">
<meta property="article:tag" content="信息安全 红队 web 渗透 博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-02-19 16:46:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="ConsT27's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div></div></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ConsT27's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ConsT27's Blog</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/%E7%94%A8%E8%BF%87%E7%9A%84API%E8%AE%B0%E5%BD%95/" title="记录一下用过的c++ windows api">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记录一下用过的c++ windows api"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/%E7%94%A8%E8%BF%87%E7%9A%84API%E8%AE%B0%E5%BD%95/" title="记录一下用过的c++ windows api">记录一下用过的c++ windows api</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:46:13.246Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></span></div><div class="content">API:收录一下调过的API进程与内存打开一个已存在的本地进程:OpenProcess12345HANDLE OpenProcess(  DWORD dwDesiredAccess,  BOOL  bInheritHandle,  DWORD dwProcessId);
dwdesiredaccess 指定能获得指定进程哪些权限。可选值如下
1234567891011121314PROCESS_ALL_ACCESS  &#x2F;&#x2F;所有能获得的权限PROCESS_CREATE_PROCESS  &#x2F;&#x2F;需要创建一个进程PROCESS_CREATE_THREAD   &#x2F;&#x2F;需要创建一个线程PROCESS_DUP_HANDLE      &#x2F;&#x2F;重复使用DuplicateHandle句柄PROCESS_QUERY_INFORMATION   &#x2F;&#x2F;获得进程信息的权限，如它的退出代码、优先级PROCESS_QUERY_LIMITED_INFORMATION  &#x2F;*获得某些信息的权限，如果获得了PROCES ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/%E5%90%AF%E7%94%A8SeDebugPrivilege/" title="windows启用SeDebugPrivilege">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows启用SeDebugPrivilege"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/%E5%90%AF%E7%94%A8SeDebugPrivilege/" title="windows启用SeDebugPrivilege">windows启用SeDebugPrivilege</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:46:13.245Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></span></div><div class="content">有很多工具需要启用SeDebugPrivilege才能正常使用，比如mimikatz就有个很经典的 privilege::debug.如果没有这个权限，administrator用openprocess可能都会报错，所以需要提升，管理员组拥有该权限但默认禁用，普通用户不拥有该权限，也就是说仅仅只有管理员账户能启用该权限。这个权限提供了强大的能力以至于可以忽视安全上下文行动。
我们会用到AdjustTokenPrivileges和LookupPrivilegeValueA，以及Token PRIVILEGES结构树
Token PRIVILEGES结构树1234typedef struct _TOKEN_PRIVILEGES &#123;  DWORD               PrivilegeCount;  LUID_AND_ATTRIBUTES Privileges[ANYSIZE_ARRAY];&#125; TOKEN_PRIVILEGES, *PTOKEN_PRIVILEGES;
PrirvilegeCount 表示Privileges数组中有多少个元素 Privileges ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1/" title="windows创建一个服务">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows创建一个服务"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1/" title="windows创建一个服务">windows创建一个服务</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:46:13.242Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></span></div><div class="content">服务Windows服务，是指运行在windows nt操作系统后台的计算机程序.Windows服务必须符合服务控制管理器的接口规则和协议（SCM)
如何创建一个Windows服务分为：1.完成服务程序主函数（进程入口点（Main函数2.完成服务程序内容主函数（ServiceMain3.服务的注册器和卸载器
服务程序主函数这个阶段，主要干两件事：1.设定好SERVICE_TABLE_ENTRY 结构变量，传入服务名和服务主函数2.调用StartServiceCtrlDispatcher函数以下是SERVICE_TABLE_ENTRY结构
1234typedef struct _SERVICE_TABLE_ENTRYW &#123;    LPWSTR                      lpServiceName;    LPSERVICE_MAIN_FUNCTIONW    lpServiceProc;&#125;SERVICE_TABLE_ENTRYW, *LPSERVICE_TABLE_ENTRYW;
所以我们的服务程序的主函数只需要像这样写即可
1234int main() ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Windows%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="windows消息机制">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows消息机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Windows%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="windows消息机制">windows消息机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:46:13.240Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></span></div><div class="content">事件驱动Windows是基于事件驱动的.一般来讲， 服务器处理模型有三种:1每收到一个请求，创建一个新的进程，来处理该请求；2每收到一个请求，创建一个新的线程，来处理该请求；3每收到一个请求，放入一个事件列表，让主进程通过非阻塞I/O方式来处理请求
1 开销较大:每处理一个事件就要新建一个进程，开销太大，但是实现起来很简单2 死锁问题:多线程调节容易遇到死锁问题，程序直接卡死3 逻辑复杂
那么事件驱动的优势在哪里呢。打个比方，我们要获取一个鼠标点击的动作。如果我们通过创建线程或者进程的方法，去循环扫描当前是否有鼠标点击事件那么可能会造成资源浪费（鼠标一直不点击，但仍在进行扫描），响应缓慢（扫描的设备有很多，会造成响应缓慢的问题）等问题。但是事件驱动就不一样了，它的核心原理是以消息队列为核心，当捕获到一个事件（如鼠标点击）时把他放进消息队列，然后当该事件从队列中被取出时，根据事件类型调用不同的函数来进行处理,其中每个事件一般都各自保存各自的处理函数指针，这样，每个消息都有独立的处理函数 。
消息机制事件驱动在Windows下的具象化就是消息机制。事件队列对应过来就是消息队列.
它会为每一 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="php反序列化">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="php反序列化"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="php反序列化">php反序列化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:46:11.254Z" title="发表于 2021-02-19 16:46:11">2021-02-19</time></span></div><div class="content">php反序列化基础基础：魔术方法12345678construct(): 当本对象被创建的时候自动调用，（unserialize()时不会被自动调用）wakeup():    对象被unserialize()时自动调用destruct():  当本对象被销毁时自动调用tostring():  当本对象被当作字符串处理时调用(echo等)get()&#x2F;set():       当试图获取&#x2F;写入一个不可达到属性或不存在的值时，会自动调用call():      与get类似，当试图调用一个不可到达方法时调用sleep&#x2F;wakeup  当对象被序列化&#x2F;反序列化时调用invoke       当对象被当作函数使用时调用。
其中，对于to_string()的触发条件有很多：
123echo&#x2F;print 打印输出对象时对象与字符串拼接或&#x3D;&#x3D;比较时对象在经过字符串处理函数如 strlen()strstr()等时以及class_exists()时
ctf中的反序列化经验1.序列化后的结果，一切以var_dump出来的页面的源代码界面为 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/imagemagick%E6%BC%8F%E6%B4%9E%E4%BB%BB%E6%84%8F%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%EF%BC%88cve-2016-3714%EF%BC%89/" title="imagemagick漏洞任意命令执行（cve-2016-3714）">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="imagemagick漏洞任意命令执行（cve-2016-3714）"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/imagemagick%E6%BC%8F%E6%B4%9E%E4%BB%BB%E6%84%8F%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%EF%BC%88cve-2016-3714%EF%BC%89/" title="imagemagick漏洞任意命令执行（cve-2016-3714）">imagemagick漏洞任意命令执行（cve-2016-3714）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:46:11.253Z" title="发表于 2021-02-19 16:46:11">2021-02-19</time></span></div><div class="content">参考 https://www.leavesongs.com/PENETRATION/CVE-2016-3714-ImageMagick.html
何为ImageMagick简而言之，就是一个处理图片的程序。
RCEImageMagick有一个功能叫做 delegate(委托),作用是调用外部的lib处理文件。在ImageMagick的配置文件 /etc/ImageMagick/delegates.xml 可以看到所有的委托(自己去看)
它的委托一般是长这样的,意思是在处理https图片时，会调用command的里的指令.command里的%m代表一种占位符，%m占位符代表获取https图片的url（当然占位符不仅仅%m一种，还有 比如%i是输入的文件名，%l是图片exif label信息 等等等等)
1&lt;delegate decode&#x3D;&quot;https&quot; command&#x3D;&quot;&quot;curl&quot; -s -k -o &quot;%o&quot; &quot;https:%M&quot;&quot;&#x2F;&gt;
Imag ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/" title="Weblogic漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Weblogic漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/" title="Weblogic漏洞">Weblogic漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.766Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">弱口令12345678910111213141516171819202122232425262728User ID	systemPassword	passwordLevel	AdministratorUser ID	weblogicPassword	weblogicLevel	AdministratorUser ID	weblogicPassword	weblogicUser ID	adminPassword	securityUser ID	joePassword	passwordUser ID	maryPassword	passwordUser ID	systemPassword	securityUser ID	wlcsystemPassword	wlcsystemUser ID	wlpisystemPassword	wlpisystem
任意文件读取基础上的后台密码破解假设我们能前台任意文件读取,但是后台的账户密码是加密的.如何破解weblogic新版本用的是AES加密，老版本用的是3DES加密都是对称加密，有密钥就可解

假设前台可以任意文件读取，那么我们只要用到用户的密文和加密 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/" title="Nginx漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/" title="Nginx漏洞">Nginx漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.764Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">‘/’字符解析漏洞（和iis7/7.5漏洞利用方法一致）url/xxx.gif/xx.php会被解析为php文件
前提条件:cgi.fix_pathinfo=1
目录遍历小洞
前提条件: nginx-conf 把这个选项改为on即可
目录穿越
前提概要:要用到别名alias作用: 当设置别名时，location后面的路径没有用/闭合时，就会引起访问 url/xx../时返回的目录是当前文件夹的上层目录可见返回的目录是上层目录
CRLF注入前提条件与产生原因:1.随着业务的发展，有些网站会把http://xxx 重定向为https://xxx或http://x.com重定向为http://www.x.com,那么这种重定向的原理在nginx上的实现方式是在location块里加入return 302 http://$host:81$uri;之类的语句，这里的$host,$url都是变量。$host一般为请求头的host头部,$url一般为请求行里的路径部分 如 GET /url HTTP/1.1此处的/url部分. 2.http头部里，0d（cr）和0a（lf）字符是用来分割请求头部区域 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/" title="iis漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="iis漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/" title="iis漏洞">iis漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.762Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">关于/的php解析漏洞(iis7/7.5解析漏洞)适用版本 iis7/7.5前提条件:1.php.ini里的cgi.fix_pathinfo设置为1,且结合方式是fast-cgi

2.开启Fast-CGI运行模式作用: 在访问某个文件时，在路径后加 /.php(这里的指任意字符)，即可让服务器把把该文件当作php文件解析并返回如图我在一个txt文件中写入php代码，让后访问它时在路径最后加了/a.php，它就被解析为php文件了

PUT任意文件上传漏洞1.适用版本 iis6.02.前提条件:服务器开启了webdav服务并且设置了写入权限

同时找到访问网站的用户是哪个并给他读取和写入权

3.概述：用PUT方法上传文件,并尝试getshell

上传,并且确实上传成功，但是大多数情况下无法上传php等脚本文件
这个时候我们就会想到用move方法来将txt文件转化为php文件,但直接move往往是不行的，要用到iis6.0解析漏洞，把它写成shell.php;.txt就可以了getshell了
iis6畸形解析漏洞iis6.0环境下会把文件畸形解析: 1.在一个文件后面加;.任意后缀 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/" title="ApacheHttpd漏洞">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ApacheHttpd漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/" title="ApacheHttpd漏洞">ApacheHttpd漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-19T08:37:51.761Z" title="发表于 2021-02-19 16:37:51">2021-02-19</time></span></div><div class="content">apache文件多后缀名解析漏洞与其说这是一个漏洞，不如说这是一个特性，很多程序员不知道这种特性，所以会写出有问题的代码。特性：多后缀名(全版本都有这个特性）apache在解析一个文件的后缀名时，是从右往左解析后缀名的，如果右边的后缀名不认识，就会继续向左识别，直到识别到一个认识的后缀名，但是万一都不认识呢?都不认识的话默认情况下是plain/text处理。那么apache是怎么知道哪个后缀名它是认识的呢?答案是认识的后缀名们都被记录到一个叫mime.types的文件中了。这个文件呢,Windows放在conf文件夹里，linux放在/etc/mime.types（不一定在这里，需要自己找找）,打开后是这样

定义了不同的后缀名应该向浏览器返回什么样的mime格式。这里要说的是有些情况下的mime.types没有提供对php的解析方法，对php的解析规则放在另一个文件，Windows下在/conf/extra/httpd-php.conf。Linux也有这个文件在/etc/apache2/mods-enabled/php7.2.conf（或者和Windows的路径一样),打开后是这样的 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">ConsT27</div><div class="author-info__description">Just A Simple Blog Of ConsT27</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/%E7%94%A8%E8%BF%87%E7%9A%84API%E8%AE%B0%E5%BD%95/" title="记录一下用过的c++ windows api"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记录一下用过的c++ windows api"/></a><div class="content"><a class="title" href="/2021/02/19/%E7%94%A8%E8%BF%87%E7%9A%84API%E8%AE%B0%E5%BD%95/" title="记录一下用过的c++ windows api">记录一下用过的c++ windows api</a><time datetime="2021-02-19T08:46:13.246Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/%E5%90%AF%E7%94%A8SeDebugPrivilege/" title="windows启用SeDebugPrivilege"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows启用SeDebugPrivilege"/></a><div class="content"><a class="title" href="/2021/02/19/%E5%90%AF%E7%94%A8SeDebugPrivilege/" title="windows启用SeDebugPrivilege">windows启用SeDebugPrivilege</a><time datetime="2021-02-19T08:46:13.245Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1/" title="windows创建一个服务"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows创建一个服务"/></a><div class="content"><a class="title" href="/2021/02/19/%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1/" title="windows创建一个服务">windows创建一个服务</a><time datetime="2021-02-19T08:46:13.242Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/Windows%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="windows消息机制"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="windows消息机制"/></a><div class="content"><a class="title" href="/2021/02/19/Windows%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="windows消息机制">windows消息机制</a><time datetime="2021-02-19T08:46:13.240Z" title="发表于 2021-02-19 16:46:13">2021-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/19/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="php反序列化"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="php反序列化"/></a><div class="content"><a class="title" href="/2021/02/19/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="php反序列化">php反序列化</a><time datetime="2021-02-19T08:46:11.254Z" title="发表于 2021-02-19 16:46:11">2021-02-19</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">28</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">28</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-02-19T08:46:39.066Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By ConsT27</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>