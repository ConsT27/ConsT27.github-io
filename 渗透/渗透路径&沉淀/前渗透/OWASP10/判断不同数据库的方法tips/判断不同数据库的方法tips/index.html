<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>判断不同数据库的方法tips - ConsT27's Blog</title>
    <link href="../../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "\u5224\u65ad\u4e0d\u540c\u6570\u636e\u5e93\u7684\u65b9\u6cd5tips", url: "#_top", children: [
              {title: "\u76ee\u5f55", url: "#_1" },
          ]},
          {title: "\u7ecf\u9a8c\u4e4b\u8c08", url: "#_2", children: [
          ]},
          {title: "\u5b57\u7b26\u4e32\u62fc\u63a5", url: "#_3", children: [
          ]},
          {title: "\u7279\u6709\u51fd\u6570", url: "#_4", children: [
              {title: "\u65f6\u95f4\u5ef6\u8fdf\u51fd\u6570", url: "#_5" },
              {title: "mysql\u7279\u6709\u51fd\u6570", url: "#mysql" },
          ]},
          {title: "\u62a5\u9519", url: "#_6", children: [
          ]},
          {title: "\u7248\u672c\u4fe1\u606f", url: "#_7", children: [
          ]},
          {title: "\u7cfb\u7edf\u8868", url: "#_8", children: [
          ]},
        ];

    </script>
    <script src="../../../../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../%E9%87%8D%E6%B8%A9XSS/%E9%87%8D%E6%B8%A9XSS/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../%E9%87%8D%E6%B8%A9XSS/%E9%87%8D%E6%B8%A9XSS/" class="btn btn-xs btn-link">
        重温XSS
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../OWASP10/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../OWASP10/" class="btn btn-xs btn-link">
        OWASP10
      </a>
    </div>
    
  </div>

    

    <h1 id="tips">判断不同数据库的方法tips</h1>
<h2 id="_1">目录</h2>
<ul>
<li><a href="#title-sql注入判断不同数据库的tipsdatetags-外围打点">title: sql注入判断不同数据库的tips
    date:
    tags: 外围打点</a></li>
<li><a href="#经验之谈">经验之谈</a></li>
<li><a href="#字符串拼接">字符串拼接</a></li>
<li><a href="#特有函数">特有函数</a><ul>
<li><a href="#时间延迟函数">时间延迟函数</a></li>
<li><a href="#mysql特有函数">mysql特有函数</a></li>
</ul>
</li>
<li><a href="#报错">报错</a></li>
<li><a href="#版本信息">版本信息</a></li>
<li><a href="#系统表">系统表</a></li>
</ul>
<hr />
<p>title: sql注入判断不同数据库的tips
date:
tags: 外围打点</p>
<hr />
<h1 id="_2">经验之谈</h1>
<p>Asp和.net通常使用sqlserver</p>
<p>Php通常使用mysql或者postgresql</p>
<p>Java通常是oracle或mysql</p>
<p>Iis服务器是基于windows的架构，后台数据库有可能是sqlserver</p>
<p>Apache服务器，可能使用开源数据库mysql或postgresql</p>
<h1 id="_3">字符串拼接</h1>
<pre><code class="language-纯文本">ORACLE：'a'||'a' =aa
MS-SQL：'a'+'a' =aa
MYSQL：'a' 'a' =aa
</code></pre>
<h1 id="_4">特有函数</h1>
<h2 id="_5">时间延迟函数</h2>
<p>oracle: 使用UTL_HTTP向一个不存在的ip发起链接请求，若返回页面大幅度延迟则可判定为oracle</p>
<p>mssql:使用语句 waitfor delay '0:0:10' 若返回页面大幅度延迟则可判定为mssql</p>
<p>mysql: sleep函数来产生延迟</p>
<h2 id="mysql">mysql特有函数</h2>
<p>BENCHMARK. 用于测试特定操作的执行速度
select BENCHMARK(1000000,md5('admin'))</p>
<h1 id="_6">报错</h1>
<p>尝试让语句报错，从错误信息中获取数据库信息</p>
<h1 id="_7">版本信息</h1>
<p><img alt="preview" src="https://pic4.zhimg.com/v2-69d02936bc7f7769a3709be6aa196f4f_r.jpg" title="preview" /></p>
<h1 id="_8">系统表</h1>
<pre><code class="language-纯文本">mssql:(select count(*) from sysobjects)&gt;0
access: (select count(*) from msysobjects)&gt;0
mysql:(select count(*) from information_schema.TABLES)&gt;0
orcle:(select count(*) from sys.user_tables)&gt;0
</code></pre>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../%E9%87%8D%E6%B8%A9XSS/%E9%87%8D%E6%B8%A9XSS/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../%E9%87%8D%E6%B8%A9XSS/%E9%87%8D%E6%B8%A9XSS/" class="btn btn-xs btn-link">
        重温XSS
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../OWASP10/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../OWASP10/" class="btn btn-xs btn-link">
        OWASP10
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>